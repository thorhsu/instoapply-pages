System.register(["./index-legacy-8c61d9bf.js","./VResponsive-legacy-9d0261db.js","./index-legacy-083a5212.js"],(function(e,r){"use strict";var t,l,a,i,o,n,s,c,u,v,g,d,m,p,f,_,y,b,S,h,z,j,x,w,C,I,V,W,U;return{setters:[e=>{t=e.l,l=e.m,a=e.n,i=e.b9,o=e.t,n=e.x,s=e.y,c=e.z,u=e.aY,v=e.J,g=e.K,d=e.d,m=e.L,p=e.bl,f=e.bm,_=e.af,y=e.a9,b=e.C,S=e.U,h=e.ac,z=e.g,j=e.Y,x=e.ab,w=e.M,C=e.W,I=e.a$},e=>{V=e.m,W=e.V},e=>{U=e.I}],execute:function(){var r=document.createElement("style");r.textContent=".v-img{--v-theme-overlay-multiplier: 3;z-index:0}.v-img--booting .v-responsive__sizer{transition:none}.v-img--rounded{border-radius:4px}.v-img__img,.v-img__picture,.v-img__gradient,.v-img__placeholder,.v-img__error{z-index:-1;position:absolute;top:0;left:0;width:100%;height:100%}.v-img__img--preload{filter:blur(4px)}.v-img__img--contain{-o-object-fit:contain;object-fit:contain}.v-img__img--cover{-o-object-fit:cover;object-fit:cover}.v-img__gradient{background-repeat:no-repeat}\n",document.head.appendChild(r);const k=t({alt:String,cover:Boolean,color:String,draggable:{type:[Boolean,String],default:void 0},eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},crossorigin:String,referrerpolicy:String,srcset:String,position:String,...V(),...l(),...a(),...i()},"VImg");e("V",o()({name:"VImg",directives:{intersect:U},props:k(),emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,r){let{emit:t,slots:l}=r;const{backgroundColorClasses:a,backgroundColorStyles:i}=n(s(e,"color")),{roundedClasses:o}=c(e),V=u("VImg"),U=v(""),k=g(),R=v(e.eager?"loading":"idle"),T=v(),B=v(),P=d((()=>e.src&&"object"==typeof e.src?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)})),q=d((()=>P.value.aspect||T.value/B.value||0));function A(r){if((!e.eager||!r)&&(!f||r||e.eager)){if(R.value="loading",P.value.lazySrc){const e=new Image;e.src=P.value.lazySrc,M(e,null)}P.value.src&&_((()=>{t("loadstart",k.value?.currentSrc||P.value.src),setTimeout((()=>{if(!V.isUnmounted)if(k.value?.complete){if(k.value.naturalWidth||F(),"error"===R.value)return;q.value||M(k.value,null),"loading"===R.value&&E()}else q.value||M(k.value),H()}))}))}}function E(){V.isUnmounted||(H(),M(k.value),R.value="loaded",t("load",k.value?.currentSrc||P.value.src))}function F(){V.isUnmounted||(R.value="error",t("error",k.value?.currentSrc||P.value.src))}function H(){const e=k.value;e&&(U.value=e.currentSrc||e.src)}m((()=>e.src),(()=>{A("idle"!==R.value)})),m(q,((e,r)=>{!e&&r&&k.value&&M(k.value)})),p((()=>A()));let L=-1;function M(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;const t=()=>{if(clearTimeout(L),V.isUnmounted)return;const{naturalHeight:l,naturalWidth:a}=e;l||a?(T.value=a,B.value=l):e.complete||"loading"!==R.value||null==r?(e.currentSrc.endsWith(".svg")||e.currentSrc.startsWith("data:image/svg+xml"))&&(T.value=1,B.value=1):L=window.setTimeout(t,r)};t()}y((()=>{clearTimeout(L)}));const N=d((()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover}))),O=()=>{if(!P.value.src||"idle"===R.value)return null;const r=z("img",{class:["v-img__img",N.value],style:{objectPosition:e.position},src:P.value.src,srcset:P.value.srcset,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable,sizes:e.sizes,ref:k,onLoad:E,onError:F},null),t=l.sources?.();return z(I,{transition:e.transition,appear:!0},{default:()=>[S(t?z("picture",{class:"v-img__picture"},[t,r]):r,[[C,"loaded"===R.value]])]})},Y=()=>z(I,{transition:e.transition},{default:()=>[P.value.lazySrc&&"loaded"!==R.value&&z("img",{class:["v-img__img","v-img__img--preload",N.value],style:{objectPosition:e.position},src:P.value.lazySrc,alt:e.alt,crossorigin:e.crossorigin,referrerpolicy:e.referrerpolicy,draggable:e.draggable},null)]}),$=()=>l.placeholder?z(I,{transition:e.transition,appear:!0},{default:()=>[("loading"===R.value||"error"===R.value&&!l.error)&&z("div",{class:"v-img__placeholder"},[l.placeholder()])]}):null,J=()=>l.error?z(I,{transition:e.transition,appear:!0},{default:()=>["error"===R.value&&z("div",{class:"v-img__error"},[l.error()])]}):null,K=()=>e.gradient?z("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,D=v(!1);{const e=m(q,(r=>{r&&(requestAnimationFrame((()=>{requestAnimationFrame((()=>{D.value=!0}))})),e())}))}return b((()=>{const r=W.filterProps(e);return S(z(W,x({class:["v-img",{"v-img--booting":!D.value},a.value,o.value,e.class],style:[{width:w("auto"===e.width?T.value:e.width)},i.value,e.style]},r,{aspectRatio:q.value,"aria-label":e.alt,role:e.alt?"img":void 0}),{additional:()=>z(j,null,[z(O,null,null),z(Y,null,null),z(K,null,null),z($,null,null),z(J,null,null)]),default:l.default}),[[h("intersect"),{handler:A,options:e.options},null,{once:!0}]])})),{currentSrc:U,image:k,state:R,naturalWidth:T,naturalHeight:B}}}))}}}));
